1. /etc/supervisor/conf.d/hajela_ias_academy.conf

[program:hajela_ias_academy]
command=/var/www/hia_bak/venv/bin/gunicorn --workers 3 --bind unix:/var/www/hia_bak/hajela_ias_academy/hajela_ias_academy.sock hajela_ias_academy.wsgi:application
directory=/var/www/hia_bak/hajela_ias_academy
user=your_username
autostart=true
autorestart=true
stderr_logfile=/var/log/hajela_ias_academy.err.log
stdout_logfile=/var/log/hajela_ias_academy.out.log



2. sudo nano /etc/nginx/sites-available/hajela_ias_academy


server {
    server_name hicareers.org www.hicareers.org;

    location = /favicon.ico { access_log off; log_not_found off; }
    location /static/ {
        alias /var/www/hia_bak/hajela_ias_academy/staticfiles/;
    }

    location /media/ {
        alias /var/www/hia_bak/hajela_ias_academy/media/;
    }

    location / {
        include proxy_params;
        proxy_pass http://unix:/var/www/hia_bak/hajela_ias_academy/hajela_ias_academy.sock;
    }

    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/www.hicareers.org/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/www.hicareers.org/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}

server {
    if ($host = www.hicareers.org) {
        return 301 https://$host$request_uri;
    } # managed by Certbot

    if ($host = hicareers.org) {
        return 301 https://$host$request_uri;
    } # managed by Certbot

    listen 80;
    server_name hicareers.org www.hicareers.org;
    client_max_body_size 100M;
    return 404; # managed by Certbot
}




Enable this Nginx configuration by creating a symlink to it in the sites-enabled directory:
sudo ln -s /etc/nginx/sites-available/hajela_ias_academy /etc/nginx/sites-enabled
sudo nginx -t
sudo systemctl restart nginx


File Permissions
Ensure that the necessary directories have the correct permissions:

sudo chown -R your_username:www-data /var/www/hia_bak/hajela_ias_academy
sudo chmod -R 775 /var/www/hia_bak/hajela_ias_academy

sudo chown -R your_username:www-data /var/www/hia_bak/hajela_ias_academy/staticfiles
sudo chmod -R 775 /var/www/hia_bak/hajela_ias_academy/staticfiles

sudo chown -R your_username:www-data /var/www/hia_bak/hajela_ias_academy/media
sudo chmod -R 775 /var/www/hia_bak/hajela_ias_academy/media


sudo supervisorctl reread
sudo supervisorctl update

sudo supervisorctl start hajela_ias_academy
sudo supervisorctl status hajela_ias_academy

sudo systemctl start nginx
sudo systemctl restart nginx
sudo systemctl enable nginx
sudo systemctl status nginx
